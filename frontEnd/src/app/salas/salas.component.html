<app-menu class="col-sm-2"></app-menu>
<div class="router">
  <div class="card mb-3">
    <h5 title="Consultar Salas Disponíveis" class="card-header">Consultar Salas Disponíveis</h5>

    <app-loader></app-loader>

    <div class="card-body">

      <form class="was-validated" id="searchRooms" (ngSubmit)="onSubmit()" #searchForm="ngForm">
        <div class="form-row justify-content-center">
          <div class="input-group col-sm-2">
            <div class="input-group-prepend">
              <label for="edifico" class="input-group-text" title="Edifício">
                <i class="material-icons">business</i>
              </label>
            </div>
            <select class="custom-select" id="edifico" (change)="edificioChanged()" [(ngModel)]="model.edificio" name="na_edificio" required>
              <option *ngFor="let ed of edificios" [value]="ed['bloco']">C{{ed['bloco']}}</option>
            </select>
          </div>

          <div class="input-group col-sm-3">
            <div class="input-group-prepend">
              <label for="piso" class="input-group-text" title="Piso">
                <i class="material-icons">trending_up</i>
              </label>
            </div>
            <select class="custom-select" id="piso" [(ngModel)]="model.piso" name="na_piso" required>
              <option value="null">Todas os Pisos</option>
              <option *ngFor="let p of pisos" [value]="p['piso']">{{p['piso']}}</option>
            </select>
          </div>

          <button title="Procurar" type="submit" class="btn btn-success" [disabled]="loader">Procurar</button>
        </div>
      </form>

    </div>
  </div>

  <div class="card">
    <div class="card-body">

      <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered dataTable no-footer">
        <thead>
          <tr>
            <th title="Espaço">Espaco</th>
            <th title="Lugares Disponíveis">Lugares Disponíveis</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let pos of salasDisponiveis" role="row" class="odd">
            <td>{{ pos.space }}</td>
            <td>{{ pos.seats }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
