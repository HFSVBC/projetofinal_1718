<app-menu class="col-sm-2"></app-menu>
<div class="router">

  <div class="card" style="margin-bottom: 10px">
      <h5 class="card-header">Consultar Preesenças nas Aulas</h5>
    <div class="card-body">

      <form class="was-validated" (ngSubmit)="onSubmit()" #searchForm="ngForm">

        <div class="form-row">

          <div class="input-group col-lg-5 pb-3">
            <div class="input-group-prepend">
              <label class="input-group-text mb-0" for="na_aula">
                <i class="material-icons">class</i>
              </label>
            </div>
            <select class="form-control costum-select" id="aula" (change)="aulaChange()" [(ngModel)]="model.aula" name="na_aula" required>
              <option *ngFor="let a of todasAulas" [value]="a">{{a}}</option>
            </select>
            <div class="invalid-feedback vi">É necessário uma Aula</div>
          </div>

          <div class="input-group col-lg-2 pb-3">
            <div class="input-group-prepend">
              <label class="input-group-text mb-0" for="na_data">
                <i class="material-icons">place</i>
              </label>
            </div>
            <select class="form-control" id="sala" [(ngModel)]="model.sala" name="sala">
              <option *ngFor="let s of salas" [value]="s">{{s}}</option>
            </select>
          </div>

          <div class="input-group col-lg-2 pb-3">
            <div class="input-group-prepend">
              <label class="input-group-text mb-0" for="na_data">
                <i class="material-icons">date_range</i>
              </label>
            </div>
            <input type="text" class="form-control" placeholder="Data" id="na_data" [(ngModel)]="model.data" name="na_data" #data="ngModel"
              data-toggle="datepicker">
          </div>

          <div class="input-group col-lg-2 pb-3">
            <div class="input-group-prepend">
              <label class="input-group-text mb-0" for="na_data">
                <i class="material-icons">person</i>
              </label>
            </div>
            <input type="text" class="form-control" placeholder="Aluno" id="na_aluno" [(ngModel)]="model.aluno" name="na_alino" #aluno="ngModel">
          </div>

          <button type="submit" class="btn btn-success col-lg-1">Procurar</button>
        </div>
      </form>

    </div>
  </div>

  <div class="card">
    <div class="card-body">

        <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered dataTable no-footer">
            <thead>
                <tr>
                    <th>Aluno</th>
                    <th>Data</th>
                    <th>Sala</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let pos of presencas" role="row" class="odd">
                    <td>{{ pos.aluno }}</td>
                    <td>{{ pos.data }}</td>
                    <td>{{ pos.sala }}</td>
                </tr>
            </tbody>
        </table>

    </div>
  </div>

</div>
